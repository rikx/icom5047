extends layout
block css
	link(rel='stylesheet', href='/stylesheets/style.css')

block content
	.container
		br
		.row
			.col-md-2
			.col-md-8
				.jumbotron
					center
						h2 Servicio de Extensión Agrícola
						h3#flowchart(data-flowchart-id=pregunta[0].flowchart_id) 
							| Cuestionario 
							= pregunta[0].flowchart_name
			.col-md-2

		.row
			.col-md-2
			.col-md-8
				.panel.panel-info
					.panel-heading 
						h3(class='panel-title')
							| Información Básica
					.panel-body
						form#form_survey_flow(role='form')
							.form-group
								label(for='take_survey_name') Cuestionario: 
								span#take_survey_name(class='form-control')
									= pregunta[0].flowchart_name
							.form-group
								label(for='take_survey_date') Fecha Comenzado:
								span#take_survey_date(class='form-control')
							.form-group
								label(for='take_survey_user') Llenado por:
								span#take_survey_user(class='form-control')
							.form-group
								label(for='take_survey_location') Localización:
								#scrollable-dropdown-menu(data-locations=locations) 
									input#take_survey_location(class="form-control typeahead", name="take_survey_location", placeholder='Nombre de Localización')

		.row
			.col-md-2
			.col-md-8
				.panel.panel-success
					.panel-heading 
						h3(class='panel-title')
							| Preguntas Contestadas
					.panel-body
						ol#answered_questions
		
		.row
			.col-md-2
			.col-md-8
				.panel.panel-success(data-question=pregunta)
					.panel-heading 
						h3#panel_title_first(class='panel-title')
							| Primera Pregunta
						h3#panel_title_next(class='panel-title', style="display: none;")
							| Próxima Pregunta
					.panel-body#next_question
						p#next_question_question(data-question-id=pregunta[0].item_id)
							= pregunta[0].question
						#next_question_answers
							each contestacion, i in pregunta
								.radio
									label
										input(id='#answer'+i, name='answer_radios', type='radio', value=contestacion.answer, data-answer-id=contestacion.option_id, data-next-id=contestacion.next_id)
										= contestacion.answer
		.row
			.col-md-2
			.col-md-2
				button#btn_save_progress(class='btn btn-sm btn-default btn-block', type='button') Guardar Progreso
			.col-md-2
				button#btn_next_question(class='btn btn-sm btn-default btn-block', type='button') Próxima Pregunta
			.col-md-4
				button#btn_end_survey(class='btn btn-sm btn-default btn-block', type='button', style="display: none;") Finalizar Cuestionario

	//	Latest compiled and minified JavaScript
	script(src='//code.jquery.com/jquery-1.11.2.min.js')
	script(src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js')
	script(src='/javascripts/cuestionario_flujo.js')
	script(src='/javascripts/helpers.js')
	script(src='/javascripts/typeahead.jquery.js')